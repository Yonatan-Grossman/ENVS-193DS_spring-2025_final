---
title: "193DS_spring_2025_final"
---

https://github.com/Yonatan-Grossman/ENVS-193DS_spring-2025_final

# Problem 1

### a.

My coworker used a Pearson's r test in part 1, as it tests for corrilation. They used a one-way analysis of variance (ANOVA) in part 2 since they were checking to see if there was a difference in the means of multiple groups.

### b.

Two things they should have included are the degrees of freedom and the F-statistic. The F-statistic is the main output of an ANOVA, and it shows the ratio of variance between group means to the variance within group means, so showing the F-statistic allows the reader to better understand the difference between group means. In this case, since the test rejected the null hypothesis, the F-statistic would probably be high and indicate that the difference in the means of each of the groups (urban land, etc) was larger than the difference within each of those groups, with a higher F-statistic meaning the average nitrogen load varies much less within groups compared to how those groups compare to each other. Knowing the F-statistic the better we can understand how different the means of the groups are. The degrees of freedom allow the reader to better understand how much information was used in the ANOVA and know the rough shape of the F-distribution. In this case, a higher df means more of each source was sampled, so they would have more data points to work with.

### c.

We found a statistically significant difference between average nitrogen load (kg year\^-1) between sources (urban land, atmospheric deposition, fertilizer, wastewater treatment, and grasslands) (one-way ANOVA, F(df, df) = F-statistic, p = 0.02, α = significance level).

We also found a \[+/-, strength\] correlation between distance from headwater (km) and annual total nitrogen load (kg year\^-1) (Pearson's r(df) = correlation coefficient, p=0.02 α = significance level)


# Problem 2.

### a.

```{r}

library(tidyverse) #loading in packages
library(janitor)
library(scales)
```


```{r}

sst <- read.csv("../data/SST_update2023.csv") #read in the data

sst_clean <- sst %>%
  clean_names() %>% #cleaning the data names
  mutate(
    year = year(date), #adding a year column with the year based on the date column
    month = month(date, label = TRUE, abbr = TRUE)) %>% #adding a month column based on the month in the date column (and turning it into the actual words for those months instead of just the numbers)
  filter(year > 2017) %>% #use only years after 2017
  mutate(year = factor(year)) %>% #turn year into a factor
  group_by(year, month) %>% #group by the month and the year
  summarize(
    mean_monthly_sst = mean(temp, na.rm = TRUE), #find the mean of each month in each year and add it to a new column
    .groups = "drop"
  )


slice_sample(sst_clean, n = 5) #show 5 rows from the dataframe
str(sst_clean) #shows the structure of the dataframe
```

### b.

```{r}
year_levels <- levels(sst_clean$year) #making a new object that's the levels from the year column
n_years <- length(year_levels) #another object that's just the length of year_level

colors <- gradient_n_pal(c("#E0B0FF", "#4B006B"))(seq(0, 1, length.out = n_years)) #an object called colors that makes there be a gradient n levels long from the first color to the second color, where n is the number of levels in years
names(colors) <- year_levels

ggplot(sst_clean, #data frame
       aes(x = month, #axis assignment
           y = mean_monthly_sst,
           color = year, #color by year
           group = year))+ #group by year
  geom_line() + #add a line graph
  geom_point() + #add a point graph
  theme_bw() + #bw theme
  theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank()) + #removing the gridlines
  xlab("Month") + #labeling the axis
  ylab("Mean monthly sea surface temperature (°C)") +
  theme(legend.position = c(0.1, 0.7)) + #changing the legend position
  labs(color = "Year") + #changing legend title
  scale_color_manual(values = colors) #changing the colors to the gradient
```

# Problem 3

### a.

```{r}
nest_boxes <- read.csv("../data/occdist.csv")
```

The 1s and 0s are basically saying if the bird in that column used the box or not, so for the column labeled sp a 1 means a swift parrot used the box while a 0 means another species used the box/the box was empty, and for the cs column a 1 means a common starling used the box while a 0 means a common starling did not use the box

### b.

this study is talking about nest boxes as a conservation tool, and while the common starling and the tree martin are both common animals, the swift parrot is critically endangered and therefor is actually in need of the nest boxes to help it. The boxes are also specifically designed to be the most useful for the parrots as the parrots are very selective about where they nest and the boxes were designed with the parrots' preferred parameters in mind.

### c.
Season in this case refers to the summer breeding seasons of 2016 and 2019. The main difference is that the boxes were set up in 2016 before the breeding season and then left there, so in the 2019 breeding season the boxes were already there.

### d.

